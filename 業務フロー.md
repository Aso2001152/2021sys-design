```uml
@startuml
opt 未登録

ユーザー -> Webサーバー:ユーザー登録
Webサーバー -> DBサーバー:ユーザー登録
DBサーバー -> DBサーバー:登録処理
DBサーバー -> Webサーバー:Webサーバー登録結果

  alt 登録成功
   Webサーバー -> ユーザー:登録メッセージを表示
  else 登録失敗
   Webサーバー -> ユーザー:失敗メッセージを表示
  end

end


ユーザー -> Webサーバー:ログイン
Webサーバー -> DBサーバー:ログイン照会
DBサーバー -> DBサーバー:ログイン処理
DBサーバー -> Webサーバー:認証結果
Webサーバー -> ユーザー:認証結果

activate ユーザー

alt 認証成功
Webサーバー -> ユーザー:ユーザー名の表示

else 認証失敗
Webサーバー -> ユーザー:失敗メッセージの表示

end

ユーザー -> Webサーバー:商品検索
Webサーバー -> DBサーバー:検索処理
DBサーバー -> DBサーバー:検索処理
DBサーバー -> Webサーバー:検索結果
Webサーバー -> ユーザー:検索結果

opt ログイン中

ユーザー -> Webサーバー:ログアウト
Webサーバー -> DBサーバー:ログアウト照会
DBサーバー -> DBサーバー:ログアウト処理
DBサーバー -> Webサーバー:ログアウト結果
Webサーバー -> ユーザー:ログアウト

end

opt 退会

ユーザー -> Webサーバー:退会申請
Webサーバー -> DBサーバー:退会申請照会
DBサーバー -> DBサーバー:退会処理
DBサーバー -> Webサーバー:退会申請結果
Webサーバー -> ユーザー:退会

end

deactivate ユーザー
@enduml
```
