```
@startuml

alt 在庫あり
opt カートに商品を追加
ユーザー -> Webサーバー : カートに追加
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> DBサーバー : カートに追加された分の商品数を減らす
DBサーバー -> Webサーバー : 処理結果
Webサーバー -> ユーザー : 処理結果
end

opt カートから商品を削除
ユーザー -> Webサーバー : 削除をクリック
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> DBサーバー : カートから商品を削除する
DBサーバー -> Webサーバー : 処理結果
Webサーバー -> ユーザー : 削除メッセージの表示
end

else 在庫なし
ユーザー -> Webサーバー : カートに追加
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> DBサーバー : 在庫確認
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 在庫結果
end

@enduml
```
