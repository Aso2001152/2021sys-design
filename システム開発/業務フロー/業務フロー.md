```uml
@startuml
 center header <size:15><b>メイン処理</b></size>
 
  opt ログイン
  alt 未登録
  hnote across: ユーザー登録処理
  end
  hnote across: ログイン処理
  end
  
  hnote across: 商品検索処理
  
  opt 商品クリック(詳細表示)
  ユーザー -> Webサーバー : 商品クリック
  Webサーバー -> DBサーバー : 商品照会
  DBサーバー -> Webサーバー : 照会結果
  Webサーバー -> ユーザー : 詳細情報表示

  opt お気に入り商品に追加
  ユーザー -> Webサーバー : お気に入りに追加をクリック
  Webサーバー -> DBサーバー : 商品情報
  DBサーバー -> DBサーバー : 商品照会・追加処理
  DBサーバー -> Webサーバー : 照会結果
  Webサーバー -> ユーザー : 追加メッセージの表示
  end
  end
  
  opt 購入
   opt 未ログイン
     hnote across: ログイン処理
   end
     hnote across: 購入処理
  end
  
  opt ログアウト
  hnote across: ログアウト処理
  end

@enduml
```


 ```uml
@startuml
 center header <size:15><b>登録</b></size>
opt 未登録
 ユーザー -> Webサーバー : ユーザー情報入力
 Webサーバー -> DBサーバー : ユーザー登録
 DBサーバー -> DBサーバー : 登録処理
 DBサーバー -> Webサーバー : 登録結果

 alt 登録成功
 Webサーバー -> ユーザー : 登録成功メッセージの表示
 else 登録失敗
 Webサーバー -> ユーザー : 登録失敗メッセージの表示
end

@enduml
```
