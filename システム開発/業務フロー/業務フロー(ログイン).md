```uml
@startuml

opt ログイン処理
ユーザー -> Webサーバー : ログイン(ID・PASS入力)
Webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> Webサーバー : 認証結果

alt ログイン成功
Webサーバー -> ユーザー : 認証結果(成功)
else ログイン失敗
Webサーバー -> ユーザー : 認証結果(失敗)
end
end

opt ログイン中

opt 購入履歴・閲覧履歴
ユーザー -> Webサーバー : 購入履歴・閲覧履歴をクリック
Webサーバー -> DBサーバー :ユーザー情報
DBサーバー -> DBサーバー : ユーザー照会・履歴取得
DBサーバー -> Webサーバー : 購入履歴・閲覧履歴
Webサーバー -> ユーザー : 購入履歴・閲覧履歴
end

opt 会員情報編集
ユーザー -> Webサーバー : 変更する情報を入力
Webサーバー -> DBサーバー :情報送信
DBサーバー -> DBサーバー : 変更処理
DBサーバー -> Webサーバー : 編集結果
Webサーバー -> ユーザー : 編集結果
end
end

@enduml
```
